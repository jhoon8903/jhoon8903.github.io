---
layout: post
title: nGrinder
subtitle: nGrinder íŠ¸ëŸ¬ë¸” ë¦¬í¬íŠ¸
category: Trouble
author: Daniel
tags: 
 - Trouble
 - Project
 - Test
banner: 
 image: assets/images/posts/ngrinder.png
---

### ì°¸ê³  URL

- [HomeBrewë¡œ ìë°” ì„¤ì¹˜í•˜ê¸°]('https://hyeon-gomi.tistory.com/entry/Java-Homebrew%EB%A1%9C-%EC%9E%90%EB%B0%94-%EC%84%A4%EC%B9%98%ED%95%98%EA%B8%B0-feat-Java%EC%9D%98-%EC%A0%95%EC%84%9D%EA%B8%B0%EC%B4%88%ED%8E%B8')
- [nGrinderë€ ë¬´ì—‡ì¸ê°€?]('https://blog.lovizu.com/entry/nGrinder-%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80-%EC%82%AC%EC%9A%A9-%ED%9B%84%EA%B8%B0')
- [nGrinder githup]('https://github.com/naver')
- [nGrinderë€? ì„¤ì¹˜ ë° ë¶€í•˜í…ŒìŠ¤íŠ¸ í•´ë³´ê¸°]('https://developer-c.tistory.com/55')

# nGrinder

### ë„¤ì´ë²„ì—ì„œ ì˜¤í”ˆì†ŒìŠ¤ë¡œ ê³µê°œëœ Java Net-Work Test Tool

- ì•„íŒŒì¹˜ì— ê¸°ë³¸ í¬í•¨ë˜ì–´ìˆëŠ” íˆ´ë¡œ ì„œë²„ì˜ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ì£¼ì–´ì„œ ì–¼ë§ˆë‚˜ ë§ì€ íŠ¸ë˜í”½ì„ ê²¬ë””ëŠ”ì§€ ì‚°ì¶œí•  ë•Œ ì‚¬ìš©
- nGrinderì˜ ê²½ìš°ëŠ” ë‹¨ìˆœíˆ ê²½ë¡œ í•˜ë‚˜ë¥¼ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ì£¼ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, nGrinder ê°€ ì§€ì›í•˜ëŠ” ì–¸ì–´
- Groovy, Jython ìœ¼ë¡œÂ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ì‘ì„±í•˜ì—¬ ë¶€í•˜ë¥¼ ì¤„ìˆ˜ ìˆëŠ” ì¥ì ì´ ìˆë‹¤.

---

# Error

## Error1. OpenJDK 64-Bit Server VM warning: Ignoring option MaxPermSize; support was removed in 8.0

ì°¸ê³  ë¸”ë¡œê·¸ ë° URL ë³´ê³  íŒŒì¼ ë‹¤ìš´ë¡œë“œ ë° ì„¤ì¹˜í•˜ëŠ” ì™€ì¤‘ ë°œìƒí•œ ì²«ë²ˆì§¸ error

![](https://i.imgur.com/6xAp510.png)

##### ğŸŸ¥ OpenJDK 64-Bit Server VM warning: Ignoring option MaxPermSize; support was removed in 8.0

"MaxPerSize" ë¼ëŠ” ì»¤ë§¨ë“œê°€ 8.0 ë²„ì „ì—ì„œ ì§€ì›í•˜ì§€ ì•ŠëŠ” ë¬¸ì œ ë°œìƒ

## Solutions

brew ì—ì„œ í•´ê²°ì„ í•´ë³´ë ¤ê³  ì‚½ì§ˆì„ í•˜ë‹¤ê°€ brewì—ì„œëŠ” í•´ë‹¹ ë²„ì „ì„ êµ¬í•  ìˆ˜ ê°€ ì—†ì–´
![](https://i.imgur.com/UiBlaKu.png)
[Download Azul JDKs]('https://www.azul.com/downloads/?version=java-11-lts&os=macos&architecture=arm-64-bit&package=jdk')ì—ì„œ Zulu openjdk ì„¤ì¹˜

---

## Error2. Please set `java.io.tmpdir` property like following. tmpdir should be different from the OS default tmpdir.`java -Djava.io.tmpdir=${NGRINDER_HOME}/lib -jar ngrinder-controller.war`

ì–´ë–¤ ê¸°ëŠ¥ì„ í•˜ëŠ”ì§€ëŠ” ëª¨ë¥´ê² ì§€ë§Œ ì˜ë¯¸ë¡œë§Œ ë³´ìë©´ `java.io.tmpdir` ë¼ëŠ” í”„ë¡œí¼í‹°ë¥¼ ì„¸íŒ… í•´ë‹¬ë¼ê³  í•˜ëŠ” ê²ƒì´ë©° ì„ì‹œ ë””ë ‰í† ë¦¬ ì—ëŸ¬ë¡œ ë³´ì—¬ í•´ë‹¹ ëª…ë ¹ì–´ ì‹¤í–‰ í•˜ì˜€ì§€ë§Œ ë‹¤ìŒê³¼ ê°™ì€ error ë©”ì„¸ì§€ê°€ ë‚˜ì˜¤ê³  ìˆë‹¤.

#### Exception in thread "main" java.lang.IllegalStateException: Failed to create unpack directory in directory '/lib'

ë””ë ‰í† ë¦¬ë¥¼ ë§Œë“¤ ìˆ˜ ì—†ì–´ ìƒê¸°ëŠ” errorë¡œ ë³´ì´ë©°, ë˜ mkdir ë“± ìˆ˜ë§ì€ ì‚½ì§ˆì˜ ì‹œì‘

![](https://i.imgur.com/vDImPwN.png)

## Solutions

ê´€ë¦¬ì ê¶Œí•œìœ¼ë¡œ ë””ë ‰í† ë¦¬ ìƒì„±

```
sudo mkdir -p /usr/local/ngrinder/lib
```

ë¦¬ë±í† ë¦¬ ìƒì„± í™•ì¸

```
ls -la /usr/local/ngrinder/lib
```

![](https://i.imgur.com/UQsIkk6.png)

ê¶Œí•œ ë¶€ì—¬

```
sudo chmod -R 777 /usr/local/ngrinder/lib
```

nGrinder ë‹¤ìš´ë¡œë“œ íŒŒì¼ ê²½ë¡œë¡œ ë‹¤ì‹œëŒì•„ì™€ ì‹¤í–‰

```
sudo java -Djava.io.tmpdir=${NGRINDER_HOME}/lib -jar ngrinder-controller-3.5.8.war
```

![](https://i.imgur.com/3MEnBwz.png)

ë­”ê°€ ì‹¤í–‰ë˜ê¸° ì‹œì‘í•œë‹¤.

ì´í›„ ë‹¤ë¥¸ í„°ë¯¸ë„ì„ ì‹¤í–‰í•˜ê³  í•´ë‹¹ ì»¤ë§¨ë“œ ì…ë ¥

```
./run_agent.sh
```

ì´í›„ í”„ë¡œê·¸ë¨ì´ ì‹¤í–‰ë˜ë©´
ë¸Œë¼ìš°ì ¸ ì£¼ì†Œì°½ì— http://127.0.0.1:8080 ë¥¼ ì…ë ¥ í•˜ë©´ ë¡œê·¸ì¸ ì°½ì´ ë‚˜ì˜¨ë‹¤

ì´í›„ëŠ” URLì—ì„œ í™•ì¸í•˜ë©´ ëœë‹¤
ì´ˆê¸° Id : admin
ì´ˆê¸° password : admin

---

## Error3. TEST Script ì‘ì„± ì¤‘ URL to be tested - **input valid URL**

ë¸”ë¡œê·¸ì—ì„œëŠ” http://localhost:3001 ì´ëŸ°ì‹ìœ¼ë¡œ ì‘ì„±í•˜ëŠ”ë°
ì£¼ì†Œì°½ì—ëŠ” **IP (number)** ë¡œ ì…ë ¥ í•´ì•¼í•œë‹¤.
![](https://i.imgur.com/CyZlXQb.png)

![](https://i.imgur.com/FxOsqB2.png)

IPëŠ” http://127.0.0.1:8080/agent? ì´ ì£¼ì†Œë¥¼ ì…ë ¥í•˜ë©´ í™•ì¸ í•  ìˆ˜ ìˆë‹¤.

![](https://i.imgur.com/yopMIqH.png)

---

# Multi-Agent

ì—ì´ì „íŠ¸ëŠ” í˜¸ìŠ¤íŠ¸ ë‹¨ìœ„ë¡œ ë‚˜ëˆ„ì–´ íŒë‹¨

1. ì—ì´ì „íŠ¸ í´ë”ë¥¼ ì¶”ê°€ìƒì„±
   ![](https://i.imgur.com/BSEiz0Q.png)

2. ê°ê°ì˜ ì—ì´ì „íŠ¸ í„°ë¯¸ë„ ì‹¤í–‰
   ![](https://i.imgur.com/wlNgxxs.jpg)

3. ëª…ë ¹ì–´ ì‹¤í–‰

```
./run_agent.sh -ah ~/.ngrinder_agent[ì—ì´ì „íŠ¸ í™ˆ] -hi [ì—ì´ì „íŠ¸ í˜¸ìŠ¤íŠ¸ ë„¤ì„]
```

    a) 1ë²ˆ ì—ì´ì „íŠ¸

```
./run_agent.sh -ah ~/.ngrinder_agent1 -hi 1st-agent
```

    b) 2ë²ˆ ì—ì´ì „íŠ¸

```
./run_agent.sh -ah ~/.ngrinder_agent2 -hi 2nd-agent
```

    c) 3ë²ˆ ì—ì´ì „íŠ¸

```
./run_agent.sh -ah ~/.ngrinder_agent3 -hi 3rd-agent
```

**ê° ì—ì´ì „íŠ¸ëŠ” í•œ ì»´í“¨í„°ì—ì„œ ë¦¬ì†ŒìŠ¤ë¥¼ ê³µìœ í•´ì„œ ì‚¬ìš©í•˜ì—¬ í…ŒìŠ¤íŠ¸ ê²°ê³¼ì— ì˜í–¥ì„ ë¯¸ì¹ ìˆ˜ ìˆì–´
ì¶”ì²œ ë˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.**
![](https://i.imgur.com/3LvEfyB.png)

---

1. ì‚­ì œí•  openJDK í™•ì¸

```bash
$ cd /Library/Java/JavaVirtualMachines
$ ls
```

```bash
# ì•„ë˜ì™€ ê°™ì´ ì„¤ì¹˜ë˜ì–´ ìˆëŠ” openJDK ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.(ex: adoptopenjdk-16.jdk)
stopleaf@stopleaf JavaVirtualMachines % ls
adoptopenjdk-16.jdk
```

2. ì‚­ì œ

```bash
$ sudo rm -rf adoptopenjdk-16.jdk
```
