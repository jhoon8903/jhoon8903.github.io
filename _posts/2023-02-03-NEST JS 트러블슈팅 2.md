---
title: NEST JS íŠ¸ëŸ¬ë¸”ìŠˆíŒ… 2
category: íŠ¸ëŸ¬ë¸”ìŠˆíŒ…
author: "ì´ì •í›ˆ"
tags: [íŠ¸ëŸ¬ë¸”ìŠˆíŒ…, nestJS]
img : ":J5omGCT.png"
comments_disable: true
meta_description: "NEST JS íŠ¸ëŸ¬ë¸”ìŠˆíŒ… DTO"
---

ğŸš¨ íŠ¸ëŸ¬ë¸”ì€ ì•„ë‹Œë°
	dtoì—ì„œ ì´ë¯¸ ê²€ì¦ì„ í•˜ì˜€ëŠ”ë° ì»¨íŠ¸ë¡¤ì—ì„œ validationpipeë¥¼ ë„£ëŠ” ì´ìœ ëŠ” ë­˜ê¹Œ
```ts
import { IsNotEmpty, IsString, Matches, MaxLength, MinLength } from 'class-validator'

export class AuthCredentialDto {

@IsNotEmpty({message : 'ë¹ˆ ê°’ì€ ì•ˆë˜ìš”'})
@IsString({message : 'ë¬¸ìì—´ë§Œ ì˜¬ ìˆ˜ ìˆì–´ìš”'})
@MinLength(4,{message : '4ì ì´ìƒì´ì–´ì•¼ í•´ìš”'})
@MaxLength(10,{message:'10ì ë¯¸ë§Œë§Œ ê°€ëŠ¥í•´ìš”'})
username : string

@IsNotEmpty()
@IsString()
@MinLength(4)
@MaxLength(10)
@Matches(/^[a-zA-Z0-9]*$/)
password : string
}
```

```ts
import { ValidationPipe } from '@nestjs/common';
import { AuthCredentialDto } from './dto/auth-credential.dto';
import { AuthService } from './auth.service';
import { Body, Controller, Post } from '@nestjs/common';
import { User } from './user.entity';

@Controller('auth')
export class AuthController {
constructor(private authService : AuthService){}
  
@Post('/signup')
signup(@Body(ValidationPipe) authCredentialDto : AuthCredentialDto) : Promise <User>{
console.log(authCredentialDto)
return this.authService.signup(authCredentialDto)
} 
}
```

ê²°ê³¼ëŠ” ë¶„ëª… ê°™ì€ë°..

ğŸš¨ íŠ¸ëŸ¬ë¸”
![](https://i.imgur.com/ZjHOdkN.png)

user.entity ì— ë°ì½”ë ˆì´í„°ë¡œ Unique ë¥¼ ì¶”ê°€í•˜ì ì‹œì‘ëœ ì—ëŸ¬íŒŒí‹°
ì—ëŸ¬ì½”ë“œë¥¼ ë³´ë‹ˆ 
'QueryFailedError' : ì¿¼ë¦¬ ì¸ê±¸ ë³´ë‹ˆ DB ë¬¸ì œ ê°™ê³ 
'ER_DUP_ENTRY: Duplicate entry' : ì¤‘ë³µ ë¬¸ì œì¸ë°
'  ' ' for key 'user.IDX_78a916df40e02a9deb1c4b75ed'  ' : ë­ê°€ ë¹„ì–´ìˆë‹¤ëŠ” ê±°ì§€

í•´ê²°
ì–´ì œ ë°œìƒí–ˆë˜ username ê³¼ ë¹„ë°€ë²ˆí˜¸ê°€ ë¹ˆê°’ìœ¼ë¡œ ì…ë ¥ë˜ëŠ” ê²ƒì´ ë¬¸ì œì˜€ë‹¤.
ì¿¼ë¦¬ëŠ” usernameì´ë¼ëŠ” ìœ ë‹ˆí¬í•œ ê°’ì„ ê°€ì ¸ì•¼ í•˜ì§€ë§Œ dbì— ë¹ˆë°°ì—´ì˜ ë¬¸ìì—´ì´
ì¤‘ë³µëœ (Duplicate) ê°’ì´ ì¡í˜€ ì—ëŸ¬ë¥¼ ë¿œì–´ëƒ„

![](https://i.imgur.com/J5omGCT.png)

db data ì‚­ì œ í›„ ì •ìƒì ìœ¼ë¡œ ì‘ë™í•œë‹¤.

![](https://i.imgur.com/HFLGpuw.png)
